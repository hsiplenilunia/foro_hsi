---
const files = [
  {
    id: 1,
    title: 'Guía de Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 2,
    title: 'Recomendaciones Médicas',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 3,
    title: 'Ejercicios Saludables',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 4,
    title: 'Alimentación y Bienestar',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 5,
    title: 'Síntomas Comunes de la Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 6,
    title: 'Terapias Hormonales: Pros y Contras',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 7,
    title: 'Alimentos Recomendados en la Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 8,
    title: 'Guía de Ejercicios para Mujeres Menopáusicas',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 9,
    title: 'Salud Mental y Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 10,
    title: 'Preguntas Frecuentes sobre Menopausia',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 11,
    title: 'Cómo Dormir Mejor en la Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 12,
    title: 'Menopausia y Sexualidad',
    fileType: 'docx',
    downloadUrl: '#',
  },
  {
    id: 13,
    title: 'Mitos y Realidades de la Menopausia',
    fileType: 'pdf',
    downloadUrl: '#',
  },
  {
    id: 14,
    title: 'Recursos de Apoyo y Comunidades',
    fileType: 'docx',
    downloadUrl: '#',
  },
];
---

<div id="recursos-root" class="w-full max-w-5xl mx-auto p-4 h-full" data-view="list">
  <!-- Toggle Bar -->
  <div class="flex w-full justify-end gap-2 mb-6">
    <button
      id="recursos-list-btn"
      class="p-2 rounded transition-colors bg-guacamole-light text-purple"
      aria-label="Vista de lista"
      type="button"
      onclick="window.setRecursosView && window.setRecursosView('list')"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
      </svg>
    </button>
    <button
      id="recursos-grid-btn"
      class="p-2 rounded transition-colors text-gray-600 hover:text-purple-text"
      aria-label="Vista de cuadrícula"
      type="button"
      onclick="window.setRecursosView && window.setRecursosView('grid')"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 6.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 7.5 2.25h-3a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 .75.75zm0 10.5h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 .75.75zm10.5-10.5h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 .75.75zm0 10.5h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 .75.75z" />
      </svg>
    </button>
  </div>

  <div id="recursos-list-view">
    <ul class="space-y-4">
      {files.map(file => (
        <li class="flex items-center bg-guacamole-light rounded-lg shadow p-4 gap-4">
          <div class="flex-shrink-0">
            {file.fileType === 'pdf' ? (
              <svg class="w-10 h-10 text-red-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
            ) : (
              <svg class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4h16v16H4z" /></svg>
            )}
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="text-lg font-semibold text-gray-900">{file.title}</h3>
            <span class="block text-xs text-gray-500 mb-2 uppercase tracking-wide">{file.fileType}</span>
            <a href={file.downloadUrl} class="inline-block mt-1 px-6 py-2 bg-apple text-purple-text hover:bg-purple hover:text-guacamole-light rounded-full font-semibold shadow hover:bg-guacamole-light transition-colors" download>
              Descargar
            </a>
          </div>
        </li>
      ))}
    </ul>
  </div>
  <div id="recursos-grid-view" style="display:none">
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4">
      {files.map(file => (
        <div class="bg-guacamole-light rounded-lg shadow flex flex-col items-center p-4">
          {file.fileType === 'pdf' ? (
            <svg class="w-12 h-12 text-red-500 mb-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
          ) : (
            <svg class="w-12 h-12 text-blue-500 mb-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4h16v16H4z" /></svg>
          )}
          <h3 class="text-base font-semibold text-gray-900 text-center mb-1">{file.title}</h3>
          <span class="block text-xs text-gray-500 mb-2 uppercase tracking-wide">{file.fileType}</span>
          <a href={file.downloadUrl} class="mt-auto px-4 py-1 bg-apple text-purple-text rounded-full font-medium text-sm hover:bg-purple hover:text-guacamole-light transition-colors" download>
            Descargar
          </a>
        </div>
      ))}
    </div>
  </div>
</div>

<script is:inline>
  window.setRecursosView = function(view) {
    const root = document.getElementById('recursos-root');
    const listBtn = document.getElementById('recursos-list-btn');
    const gridBtn = document.getElementById('recursos-grid-btn');
    const listView = document.getElementById('recursos-list-view');
    const gridView = document.getElementById('recursos-grid-view');
    if (!root || !listBtn || !gridBtn || !listView || !gridView) return;
    root.setAttribute('data-view', view);
    if (view === 'list') {
      listView.style.display = '';
      gridView.style.display = 'none';
      listBtn.className = 'p-2 rounded transition-colors bg-guacamole-light text-purple';
      gridBtn.className = 'p-2 rounded transition-colors text-gray-600 hover:text-purple-text';
    } else {
      listView.style.display = 'none';
      gridView.style.display = '';
      listBtn.className = 'p-2 rounded transition-colors text-gray-600 hover:text-purple-text';
      gridBtn.className = 'p-2 rounded transition-colors bg-guacamole-light text-purple';
    }
  };
</script>
